---
작성일: "2023-08-10 23:31"
링크: https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=276041776
---
#개발서적 #대규모시스템설계기초
## 연결문서
- [[../1장 사용자 수에 따른 규모 확장성]]

## 정리
지역에 따른 데이터 센터를 사용할 때 장애가 없는 상황에서 사용자는 가장 가까운 데이터 센터로 요청이 가게된다.
이를 지릭적 라우팅(geoDNS-routing 또는 geo-routing)라고 말한다.

지리적 라우팅에서 geoDNS는 사용자의 위치에 따라 도메인 이름을 어떤 IP 주소로 변환할지 결정하는 DNS이다.
### 데이터 센터 다중화
![2020230814155600.png|500](images/Pasted%20image%2020230814155600.png)

여러 리전의 데이터 센터를 사용하는 것으로 데이터 센터를 다중화 했다고 볼 수 있을까?  
책에서 데이터 센터 다중화는 몇가지 기술적 난제를 해결해야 가능하다고 한다.

서울 리전과 도쿄 리전 2개의 리전중 서울에서 장애가 발생한 상황을 예시로 들어보자.
1. 장애가 발생한 서울 리전의 모든 트래픽을 도쿄 리전으로 우회 시킨다.
2. 로그인된 사용자를 고려하여 서울 리전과 도쿄 리전은 동일한 인증 정책과 저장소를 사용하게 한다.
3. 서울 리전의 모든 데이터(DB, 캐시 ...)와 도쿄 리전의 모든 데이터가 동기화 되도록 해야한다.

![2020230814155647.png|500](images/Pasted%20image%2020230814155647.png)

즉, 2가지 난제가 발생한다.
- 트래픽 우회 - 올바른 데이터 센터로 트래픽을 우회시키는 효과적인 방법을 찾아야 한다.
- 데이터 동기화 - 데이터 센터마다 별도의 DB를 사용하고 있는 상황이라면 트래픽 우회의 효용은 떨어진다.  
  이 경우에는 여러 데이터 센터에 걸처 데이터를 다중화하는 방법이 필요하다.  
  (책에서는 메세지 큐를 사용하는 것도 전략이라고 말한다. )
